<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        starry: {
                            gold: '#fcd440',
                            blue: '#1a3c75',
                            dark: '#0b1026',
                            sky: '#8ecae6'
                        }
                    },
                    fontFamily: {
                        script: ['"Dancing Script"', 'cursive'],
                        sans: ['"Poppins"', 'sans-serif']
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'sway': 'sway 12s ease-in-out infinite alternate',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'fade-in-up': 'fadeInUp 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        sway: {
                            '0%': { transform: 'rotate(0deg)' },
                            '100%': { transform: 'rotate(2deg)' },
                        },
                        pulse: {
                            '0%, 100%': { opacity: '0.8', transform: 'scale(1)' },
                            '50%': { opacity: '1', transform: 'scale(1.05)' },
                        },
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(30px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0b1026;
            color: white;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* --- Z-INDEX LAYERING --- */
        #background-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        #content-layer {
            position: relative;
            z-index: 10;
        }

        /* --- BACKGROUND ELEMENTS --- */
        .moon-glow {
            position: absolute;
            top: 10%;
            right: 10%;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(252, 212, 64, 0.8) 0%, rgba(224, 161, 0, 0.2) 70%, transparent 100%);
            filter: blur(20px);
            z-index: 2;
        }

        /* --- GLASSMORPHISM CARDS --- */
        .glass-card {
            background: rgba(11, 16, 38, 0.5);
            /* More transparent for elegance */
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            transform: translateY(-5px);
            background: rgba(11, 16, 38, 0.7);
            border-color: rgba(252, 212, 64, 0.4);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        /* Image Aspect Ratio Container */
        .image-container {
            position: relative;
            width: 100%;

            /* 4:5 Aspect Ratio (Portrait) */
            overflow: hidden;
            border-radius: 0.75rem;
        }

        .image-container img {

            top: 0;
            left: 0;
            width: 100%;
            height: auto;
            display: block;

            transition: transform 1.5s ease;
        }

        /* Masonry Fix */
        .glass-card {
            break-inside: avoid;
            margin-bottom: 2rem;
        }

        .glass-card:hover img {
            transform: scale(1.1);
        }
    </style>
</head>

<body>

    <!-- LAYER 1: The Living Background -->
    <div id="background-layer">
        <!-- Canvas for Van Gogh Flow Field -->
        <canvas id="skyCanvas" class="absolute top-0 left-0 w-full h-full"></canvas>

        <!-- Glowing Moon -->
        <div class="moon-glow animate-pulse-slow"></div>
        <svg class="absolute top-[10%] right-[10%] w-[100px] h-[100px] z-[3]" viewBox="0 0 100 100">
            <path d="M70,20 A 35,35 0 1,1 50,80 A 28,28 0 1,0 70,20 Z" fill="#fcd440" />
        </svg>

        <!-- Foreground Village SVG -->
        <svg class="absolute bottom-0 left-0 w-full h-full z-[5]" viewBox="0 0 1000 600"
            preserveAspectRatio="xMidYMax slice">
            <!-- Hills -->
            <path d="M0,500 Q200,450 400,520 T800,500 T1000,480 V600 H0 Z" fill="#162a4f" stroke="#0f1c35"
                stroke-width="2" />
            <path d="M0,550 Q150,520 300,560 T700,540 T1000,580 V600 H0 Z" fill="#101e38" opacity="0.9" />

            <!-- Village -->
            <g transform="translate(300, 520) scale(0.6)" fill="#0a0f1e">
                <rect x="200" y="50" width="40" height="60" />
                <polygon points="200,50 220,10 240,50" />
                <rect x="215" y="70" width="10" height="20" fill="#fdca40" class="animate-pulse" />

                <rect x="120" y="70" width="60" height="50" />
                <polygon points="120,70 150,50 180,70" />
                <rect x="130" y="90" width="10" height="10" fill="#fdca40" class="animate-pulse"
                    style="animation-delay:1s" />
            </g>

            <!-- Cypress Tree (Aligned bottom left-ish) -->
            <g class="animate-sway origin-bottom" fill="#050505" style="transform-box: fill-box;">
                <path
                    d="M150,600 C100,550 80,400 120,250 C130,200 125,100 130,50 C135,100 160,200 160,280 C180,350 220,500 180,600 Z" />
            </g>
        </svg>
    </div>

    <!-- LAYER 2: Content -->
    <div id="content-layer" class="min-h-screen flex flex-col">

        <!-- Navbar (Music Indicator) -->
        <nav
            class="fixed top-0 w-full p-6 flex justify-between items-center z-50 bg-gradient-to-b from-black/40 to-transparent">
            <div class="text-starry-gold font-script text-3xl drop-shadow-lg">Noor's Day</div>
            <div id="musicIndicator"
                class="text-xs tracking-widest uppercase text-starry-sky border border-starry-sky/30 px-3 py-1 rounded-full animate-pulse">
                Music Playing üéµ
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="min-h-screen flex flex-col justify-center items-center text-center px-4 relative">

            <!-- Staggered Entry Animations -->
            <div class="opacity-0 animate-fade-in-up" style="animation-delay: 0.2s">
                <p
                    class="text-starry-sky text-lg md:text-xl tracking-[0.3em] uppercase mb-4 shadow-black drop-shadow-md">
                    Under the Starry Sky
                </p>
            </div>

            <div class="opacity-0 animate-fade-in-up" style="animation-delay: 0.6s">
                <h1
                    class="font-script text-7xl md:text-9xl text-transparent bg-clip-text bg-gradient-to-br from-white via-starry-gold to-orange-100 drop-shadow-[0_5px_5px_rgba(0,0,0,0.5)] mb-6 leading-tight">
                    Happy Birthday<br>
                    <span class="text-white">Tanji Noor Akter</span>
                </h1>
            </div>

            <div class="opacity-0 animate-fade-in-up" style="animation-delay: 1.0s">
                <p class="text-gray-200 text-lg md:text-xl max-w-lg mx-auto mb-10 font-light drop-shadow-md">
                    "There is nothing more truly artistic than to love people." ‚Äî Van Gogh
                </p>
            </div>

            <div class="opacity-0 animate-fade-in-up" style="animation-delay: 1.4s">
                <button onclick="celebrate()"
                    class="group relative px-8 py-4 bg-starry-gold text-starry-dark rounded-full font-bold text-lg overflow-hidden transition-all hover:scale-105 shadow-[0_0_40px_rgba(252,212,64,0.4)]">
                    <span class="relative z-10 flex items-center gap-2">Make a Wish ‚ú®</span>
                    <div
                        class="absolute inset-0 bg-white/30 translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                    </div>
                </button>
            </div>

            <!-- Scroll Indicator -->
            <div class="absolute bottom-10 animate-float opacity-70">
                <span class="text-2xl text-starry-gold">‚á©</span>
            </div>
        </section>

        <!-- Gallery Section -->
        <section class="w-full max-w-6xl mx-auto py-24 px-6">
            <div class="text-center mb-16 opacity-0 animate-fade-in-up" id="gallery-title">
                <h2 class="font-script text-6xl text-starry-sky drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">Starlight
                    Memories</h2>
                <div class="w-24 h-1 bg-starry-gold mx-auto mt-4 rounded-full"></div>
            </div>

            <div class="columns-1 md:columns-3 gap-8 space-y-8">

                <!-- Photo 1: NOOR (15).jpg -->
                <!-- PASTE BASE64 FOR NOOR 15 BELOW -->
                <div class="glass-card p-3 rounded-2xl reveal-on-scroll delay-100">
                    <div class="image-container">
                        <img src="NOOR (4).jpg" alt="Birthday Girl"
                            class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-700">
                        <div class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black/80 to-transparent">
                            <span class="text-starry-gold font-script text-3xl">Angelic</span>
                        </div>
                    </div>
                </div>

                <!-- Photo 2: NOOR (21).jpg (Center Highlight) -->
                <!-- PASTE BASE64 FOR NOOR 21 BELOW -->
                <div
                    class="glass-card p-3 rounded-2xl md:-translate-y-12 z-20 shadow-[0_0_50px_rgba(252,212,64,0.2)] reveal-on-scroll delay-200">
                    <div class="image-container">
                        <img src="NOOR (19).jpg" alt="Birthday Girl"
                            class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-700">

                        <div class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black/80 to-transparent">
                            <span class="text-starry-gold font-script text-3xl">Elegant</span>
                        </div>
                    </div>
                </div>

                <!-- Photo 3: NOOR (19).jpg -->
                <!-- PASTE BASE64 FOR NOOR 19 BELOW -->
                <div class="glass-card p-3 rounded-2xl reveal-on-scroll delay-300">
                    <div class="image-container">
                        <img src="NOOR (17).jpg" alt="Birthday Girl"
                            class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-700">
                        <div class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black/80 to-transparent">
                            <span class="text-starry-gold font-script text-3xl">Dreamer</span>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Message Section -->
        <section class="max-w-4xl mx-auto py-20 px-6 text-center mb-20">
            <div class="glass-card p-12 rounded-[3rem] relative reveal-on-scroll">
                <span class="absolute -top-10 left-10 text-8xl text-starry-gold font-script opacity-50">"</span>

                <p class="text-2xl md:text-3xl leading-relaxed font-light text-gray-100 mb-8">
                    Dearest <strong
                        class="text-starry-gold drop-shadow-[0_0_10px_rgba(252,212,64,0.8)]">Noor</strong>,<br>
                    Just as the <span class="text-starry-sky drop-shadow-[0_0_5px_rgba(142,202,230,0.6)]">stars</span>
                    swirl in the night sky, may your life be filled with endless <span
                        class="text-starry-gold">motion</span>, <span class="text-starry-gold">color</span>, and <span
                        class="text-starry-gold drop-shadow-[0_0_5px_rgba(252,212,64,0.6)]">light</span>.
                    Hope this birthday brings you as much <span class="text-starry-gold">joy</span> as you bring to
                    those around you. Your spirit is a
                    <span class="text-starry-sky">masterpiece</span>, a true work of <span
                        class="text-starry-sky">art</span> that inspires us all. May your journey be as <span
                        class="text-starry-gold">vibrant</span> and <span class="text-starry-gold">beautiful</span> as
                    the <span class="text-starry-sky drop-shadow-[0_0_5px_rgba(142,202,230,0.6)]">stars</span>
                    above.<br>
                    <br>
                    Happy Birthday. May you have many more years of <span class="text-starry-gold">happiness</span>,
                    <span class="text-starry-gold">love</span>, and <span class="text-starry-gold">success</span>. Keep
                    <span class="text-starry-gold drop-shadow-[0_0_8px_rgba(252,212,64,0.8)]">shining</span> like the
                    <span class="text-starry-gold drop-shadow-[0_0_8px_rgba(252,212,64,0.8)]">star</span>
                    you are!
                </p>

                <span
                    class="absolute -bottom-16 right-10 text-8xl text-starry-gold font-script opacity-50 rotate-180">"</span>

                <div class="mt-8 flex justify-center gap-4">
                    <span class="w-2 h-2 rounded-full bg-starry-gold animate-bounce"></span>
                    <span class="w-2 h-2 rounded-full bg-starry-sky animate-bounce"
                        style="animation-delay: 0.2s"></span>
                    <span class="w-2 h-2 rounded-full bg-starry-gold animate-bounce"
                        style="animation-delay: 0.4s"></span>
                </div>
            </div>

            <footer class="mt-20 text-sm text-gray-500 font-light tracking-wide">
                MADE WITH ‚ù§Ô∏è FOR NOOR
            </footer>
        </section>

    </div>

    <!-- AUDIO PLAYER (Autoplay enabled) -->
    <!-- Note: Users may still need to interact with the DOM for audio to unlock in some browsers -->
    <audio id="bgMusic" loop autoplay>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <!-- Confetti Script -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    <script>
        // --- 1. MUSIC AUTOPLAY LOGIC ---
        window.addEventListener('load', () => {
            const music = document.getElementById('bgMusic');
            const indicator = document.getElementById('musicIndicator');

            // Try to play immediately
            const playPromise = music.play();

            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // Autoplay started!
                    indicator.innerText = "Music Playing üéµ";
                }).catch(error => {
                    // Autoplay was prevented
                    indicator.innerText = "Click to Play Music üîá";
                    // Add one-time click listener to body to start music
                    document.body.addEventListener('click', function () {
                        music.play();
                        indicator.innerText = "Music Playing üéµ";
                    }, { once: true });
                });
            }
        });

        // --- 2. SCROLL ANIMATION OBSERVER ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.remove('opacity-0', 'translate-y-10');
                    entry.target.classList.add('animate-fade-in-up');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        // Add class 'opacity-0 translate-y-10' to all scroll elements initially
        document.querySelectorAll('.reveal-on-scroll').forEach((el) => {
            el.classList.add('opacity-0', 'translate-y-10', 'transition-all', 'duration-1000');
            observer.observe(el);
        });

        // --- 3. CONFETTI CELEBRATION ---
        function celebrate() {
            // Audio cue?
            // document.getElementById('bgMusic').volume = 1.0; 

            // Confetti Canon
            var duration = 3000;
            var end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#fcd440', '#8ecae6', '#ffffff']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#fcd440', '#8ecae6', '#ffffff']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());

            // Trigger Canvas Shooting Stars
            triggerShootingStars();
        }

        // --- 4. VAN GOGH ANIMATION ENGINE ---
        const canvas = document.getElementById('skyCanvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let particles = [];
        let flowField = [];
        const rows = 30;
        const cols = 50;
        let scale;
        let shootingStars = [];

        // Van Gogh Palette
        const colors = ['#1a3c75', '#2b4d8d', '#4b74b8', '#8ecae6', '#fcd440', '#1a3c75'];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            scale = Math.ceil(width / cols);
            initParticles();
        }

        class Particle {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * width;
                this.y = Math.random() * height * 0.8;
                this.life = Math.random() * 100 + 50;
                this.history = [];
                this.speed = Math.random() * 2 + 1;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.width = Math.random() * 3 + 1;
                this.alpha = Math.random() * 0.5 + 0.1;
            }
            update(flowGrid) {
                if (this.life <= 0) { this.reset(); return; }
                let col = Math.floor(this.x / scale);
                let row = Math.floor(this.y / scale);

                if (col >= 0 && col < cols && row >= 0 && row < rows) {
                    let force = flowGrid[col + row * cols];
                    if (force) {
                        this.x += force.x * this.speed;
                        this.y += force.y * this.speed;
                        this.history.push({ x: this.x, y: this.y });
                        if (this.history.length > 15) this.history.shift(); // Longer trails
                    }
                }
                this.life--;
                if (this.x > width) this.x = 0;
                if (this.x < 0) this.x = width;
            }
            draw() {
                if (this.history.length < 2) return;
                ctx.beginPath();
                ctx.strokeStyle = this.color;
                ctx.lineWidth = this.width;
                ctx.lineCap = 'round';
                ctx.globalAlpha = this.alpha;
                ctx.moveTo(this.history[0].x, this.history[0].y);
                for (let i = 1; i < this.history.length; i++) ctx.lineTo(this.history[i].x, this.history[i].y);
                ctx.stroke();
                ctx.globalAlpha = 1;
            }
        }

        class ShootingStar {
            constructor() {
                this.active = false;
            }
            fire() {
                this.active = true;
                this.x = Math.random() * width + 200;
                this.y = -50;
                this.vx = -15 - Math.random() * 10;
                this.vy = 8 + Math.random() * 5;
            }
            update() {
                if (!this.active) return;
                this.x += this.vx;
                this.y += this.vy;
                if (this.x < -100 || this.y > height) this.active = false;
            }
            draw() {
                if (!this.active) return;
                ctx.beginPath();
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 3;
                ctx.moveTo(this.x, this.y);
                ctx.lineTo(this.x - this.vx * 3, this.y - this.vy * 3);
                ctx.stroke();
            }
        }

        function generateFlowField() {
            flowField = new Array(cols * rows);
            const swirls = [
                { x: 0.5, y: 0.4, r: 0.3, s: 0.01 },
                { x: 0.2, y: 0.5, r: 0.4, s: 0.005 },
                { x: 0.8, y: 0.3, r: 0.3, s: -0.008 }
            ];

            for (let y = 0; y < rows; y++) {
                for (let x = 0; x < cols; x++) {
                    let nx = x / cols, ny = y / rows;
                    let angle = Math.sin(ny * Math.PI) * 0.5; // Base wind
                    let vx = Math.cos(angle), vy = Math.sin(angle);

                    swirls.forEach(s => {
                        let dx = nx - s.x, dy = ny - s.y;
                        let dist = Math.sqrt(dx * dx + dy * dy * (height / width));
                        if (dist < s.r) {
                            let force = (s.r - dist) / s.r;
                            let ra = Math.atan2(dy, dx);
                            vx += -Math.sin(ra) * force * s.s * 1000;
                            vy += Math.cos(ra) * force * s.s * 1000;
                        }
                    });

                    let mag = Math.sqrt(vx * vx + vy * vy) || 1;
                    flowField[x + y * cols] = { x: vx / mag, y: vy / mag };
                }
            }
        }

        function initParticles() {
            particles = [];
            const count = window.innerWidth < 600 ? 800 : 2000;
            for (let i = 0; i < count; i++) particles.push(new Particle());
            generateFlowField();
            shootingStars = [new ShootingStar(), new ShootingStar(), new ShootingStar()];
        }

        function triggerShootingStars() {
            shootingStars.forEach(s => s.fire());
        }

        function animate() {
            ctx.fillStyle = 'rgba(11, 16, 38, 0.2)';
            ctx.fillRect(0, 0, width, height);

            particles.forEach(p => { p.update(flowField); p.draw(); });
            shootingStars.forEach(s => { s.update(); s.draw(); });

            // Random twinkling stars (static)
            if (Math.random() < 0.1) {
                ctx.fillStyle = '#fcd440';
                ctx.globalAlpha = Math.random();
                ctx.fillRect(Math.random() * width, Math.random() * height * 0.7, 2, 2);
                ctx.globalAlpha = 1.0;
            }

            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', resize);
        resize();
        animate();

    </script>
    <!-- Background Music -->
    <audio id="bg-music" loop autoplay>
        <source src="music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const audio = document.getElementById('bg-music');

            // Try to play immediately
            const playPromise = audio.play();

            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // Autoplay started!
                    console.log("Autoplay started successfully");
                }).catch(error => {
                    // Autoplay was prevented.
                    // Show a UI element to let the user manually start playback, 
                    // or just wait for the first user interaction.
                    console.log("Autoplay prevented. Waiting for user interaction.");

                    const playOnInteraction = () => {
                        audio.play();
                        document.removeEventListener('click', playOnInteraction);
                        document.removeEventListener('scroll', playOnInteraction);
                        document.removeEventListener('touchstart', playOnInteraction);
                        document.removeEventListener('keydown', playOnInteraction);
                    };

                    document.addEventListener('click', playOnInteraction);
                    document.addEventListener('scroll', playOnInteraction);
                    document.addEventListener('touchstart', playOnInteraction);
                    document.addEventListener('keydown', playOnInteraction);
                });
            }
        });
    </script>
</body>

</html>